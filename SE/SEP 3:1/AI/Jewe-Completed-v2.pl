:- use_module(library(clpfd)).
:- encoding(utf8).

% Sample board shown in the report
% DO NOT EDIT
% 2 Outputs
sample() :-
	solve(5,1,5,6,2,4,5,1,
		3,2,6,7,5,6,4,6,
		1,5,1,2,7,4,5,3,
		5,3,7,4,1,1,7,1,
		6,2,5,2,3,4,3,4,
		7,4,3,4,1,5,6,1,
		3,2,6,1,7,3,4,7,
		4,1,3,6,4,7,5,1).
		
% Feel free to edit this board
sample2() :-
	solve(5,1,5,6,2,4,5,1,
		3,3,6,3,5,6,4,6,
		1,5,1,2,7,4,5,3,
		5,3,7,4,1,1,7,1,
		6,2,5,5,3,4,3,4,
		7,5,3,4,1,5,6,1,
		3,2,6,1,7,3,4,7,
		4,1,3,6,4,7,5,1).
	
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Vertical stack for 2nd board
% Note: the number 99 represent unknown (don't care) variable

% vertical_stack0 = [X07,X06,X05,X04,X03,X02,X01,X00,99].
% vertical_stack1 = [X17,X16,X15,X14,X13,X12,X11,X10,99].
% vertical_stack2 = [X27,X26,X25,X24,X23,X22,X21,X20,99].
% vertical_stack3 = [X37,X36,X35,X34,X33,X32,X31,X30,99].
% vertical_stack4 = [X47,X46,X45,X44,X43,X42,X41,X40,99].
% vertical_stack5 = [X57,X56,X55,X54,X53,X52,X51,X50,99].
% vertical_stack6 = [X67,X66,X65,X64,X63,X62,X61,X60,99].
% vertical_stack7 = [X77,X76,X75,X74,X73,X72,X71,X70,99].


% A function to add (append) an item to the list

add_to_list([],Tail,Tail).
add_to_list([Head|Tail],Tail2,[Head|R]) :-
    add_to_list(Tail,Tail2,R).

%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%   
% If 3 items are equal, Return true
equal3(N1,N2,N3) :-
	N1 =:= N2,
	N2 =:= N3.

% Print a position in (x1,y1), (x2,y2), (x3,y3)	
printposition(X1,Y1,X2,Y2,X3,Y3) :-
	format("(~w,~w), (~w,~w), (~w,~w)",[X1,Y1,X2,Y2,X3,Y3]), nl.

% if 3 items are equal, print a position	
check3(I1,I2,I3,X1,Y1,X2,Y2,X3,Y3) :-
	equal3(I1,I2,I3),
	printposition(X1,Y1,X2,Y2,X3,Y3).
	
	
	
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% find all possible moves
%%%
%%%
solve(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,X77):-
	
	% pattern1 [_XX]
	%		   [X__]
	% (x,y+1), (x+1,y), (x+2,y) : x is 1..6, y is 1..7
	
	check_pattern1(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,X77);
	
	
	% pattern2 [XX_]
	%		   [__X]
	% (x,y), (x+1,y), (x+2,y+1) : x is 1..6, y is 1..7
	
	check_pattern2(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,X77);
	
	
	% pattern3 [__X]
	%		   [XX_]
	% (x,y+1), (x+1,y+1), (x+2,y) : x is 1..6, y is 1..7

	check_pattern3(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,X77);
	
	
	% pattern4 [X__]
	%		   [_XX]
	% (x,y), (x+1,y+1), (x+2,y+1) : x is 1..6, y is 1..7
	
	check_pattern4(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,X77);
	
	
	% pattern5 [X_X]
	%		   [_X_]
	% (x,y), (x+1,y+1), (x+2,y) : x is 1..6, y is 1..7
	
	check_pattern5(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,X77);
	
	% pattern6 [_X_]
	%		   [X_X]
	% (x,y+1), (x+1,y), (x+2,y+1) : x is 1..6, y is 1..7

	check_pattern6(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,X77);
	
	
	% pattern7 [X]
	%		   [_]
	%		   [X]
	%		   [X]
	% (x,y), (x,y+2), (x,y+3) : x is 1..7, y is 1..5
	
	check_pattern7(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,X77);
	
	
	% pattern8 [X]
	%		   [X]
	%		   [_]
	%		   [X]
	% (x,y), (x,y+1), (x,y+3) : x is 1..7, y is 1..5
	
	check_pattern8(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,X77);
	
	
	% pattern9 [X_XX]
	% (x,y), (x+2,y), (x+3,y) : x is 1..5, y is 1..7
	
	check_pattern9(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,X77);
	
	
	% pattern10 [XX_X]
	% (x,y), (x+1,y), (x+3,y) : x is 1..5, y is 1..7
	
	check_pattern10(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,X77);
	
	
	% pattern11 [X_]
	%		    [_X]
	%			[_X]
	% (x,y), (x+1,y+1), (x+1,y+2) : x is 1..7, y is 1..6
	
	check_pattern11(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,X77);
	
	
	% pattern12 [_X]
	%		    [X_]
	%			[X_]
	% (x+1,y), (x,y+1), (x,y+2) : x is 1..7, y is 1..6
	
	check_pattern12(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,X77);
	
	
	% pattern13 [X_]
	%		    [X_]
	%			[_X]
	% (x,y), (x,y+1), (x+1,y+2) : x is 1..7, y is 1..6
	
	check_pattern13(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,X77);
	
	
	% pattern14 [_X]
	%		    [_X]
	%			[X_]
	% (x,y), (x,y+1), (x+1,y+2) : x is 1..7, y is 1..6
	
	check_pattern14(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,X77);
	
	
	% pattern15 [_X]
	%		    [X_]
	%			[_X]
	% (x+1,y), (x,y+1), (x+1,y+2) : x is 1..7, y is 1..6
	
	check_pattern15(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,X77);
	
	
	% pattern16 [X_]
	%		    [_X]
	%			[X_]
	% (x,y), (x+1,y+1), (x,y+2) : x is 1..7, y is 1..6
	
	check_pattern16(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,X77);
	
	write("All pattern checked!").
	

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% A function to check each pattern
%
check_pattern1(_,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,_,_):-
	check3(X01,X10,X20,0,1,1,0,2,0);
	check3(X11,X20,X30,1,1,2,0,3,0);
	check3(X21,X30,X40,2,1,3,0,4,0);
	check3(X31,X40,X50,3,1,4,0,5,0);
	check3(X41,X50,X60,4,1,5,0,6,0);
	check3(X51,X60,X70,5,1,6,0,7,0);
	check3(X02,X11,X21,0,2,1,1,2,1);
	check3(X12,X21,X31,1,2,2,1,3,1);
	check3(X22,X31,X41,2,2,3,1,4,1);
	check3(X32,X41,X51,3,2,4,1,5,1);
	check3(X42,X51,X61,4,2,5,1,6,1);
	check3(X52,X61,X71,5,2,6,1,7,1);
	check3(X03,X12,X22,0,3,1,2,2,2);
	check3(X13,X22,X32,1,3,2,2,3,2);
	check3(X23,X32,X42,2,3,3,2,4,2);
	check3(X33,X42,X52,3,3,4,2,5,2);
	check3(X43,X52,X62,4,3,5,2,6,2);
	check3(X53,X62,X72,5,3,6,2,7,2);
	check3(X04,X13,X23,0,4,1,3,2,3);
	check3(X14,X23,X33,1,4,2,3,3,3);
	check3(X24,X33,X43,2,4,3,3,4,3);
	check3(X34,X43,X53,3,4,4,3,5,3);
	check3(X44,X53,X63,4,4,5,3,6,3);
	check3(X54,X63,X73,5,4,6,3,7,3);
	check3(X05,X14,X24,0,5,1,4,2,4);
	check3(X15,X24,X34,1,5,2,4,3,4);
	check3(X25,X34,X44,2,5,3,4,4,4);
	check3(X35,X44,X54,3,5,4,4,5,4);
	check3(X45,X54,X64,4,5,5,4,6,4);
	check3(X55,X64,X74,5,5,6,4,7,4);
	check3(X06,X15,X25,0,6,1,5,2,5);
	check3(X16,X25,X35,1,6,2,5,3,5);
	check3(X26,X35,X45,2,6,3,5,4,5);
	check3(X36,X45,X55,3,6,4,5,5,5);
	check3(X46,X55,X65,4,6,5,5,6,5);
	check3(X56,X65,X75,5,6,6,5,7,5);
	check3(X07,X16,X26,0,7,1,6,2,6);
	check3(X17,X26,X36,1,7,2,6,3,6);
	check3(X27,X36,X46,2,7,3,6,4,6);
	check3(X37,X46,X56,3,7,4,6,5,6);
	check3(X47,X56,X66,4,7,5,6,6,6);
	check3(X57,X66,X76,5,7,6,6,7,6).
	
check_pattern2(X00,X10,X20,X30,X40,X50,X60,_,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	_,_,X27,X37,X47,X57,X67,X77) :-
	check3(X00,X10,X21,0,0,1,0,2,1);
	check3(X10,X20,X31,1,0,2,0,3,1);
	check3(X20,X30,X41,2,0,3,0,4,1);
	check3(X30,X40,X51,3,0,4,0,5,1);
	check3(X40,X50,X61,4,0,5,0,6,1);
	check3(X50,X60,X71,5,0,6,0,7,1);
	check3(X01,X11,X22,0,1,1,1,2,2);
	check3(X11,X21,X32,1,1,2,1,3,2);
	check3(X21,X31,X42,2,1,3,1,4,2);
	check3(X31,X41,X52,3,1,4,1,5,2);
	check3(X41,X51,X62,4,1,5,1,6,2);
	check3(X51,X61,X72,5,1,6,1,7,2);
	check3(X02,X12,X23,0,2,1,2,2,3);
	check3(X12,X22,X33,1,2,2,2,3,3);
	check3(X22,X32,X43,2,2,3,2,4,3);
	check3(X32,X42,X53,3,2,4,2,5,3);
	check3(X42,X52,X63,4,2,5,2,6,3);
	check3(X52,X62,X73,5,2,6,2,7,3);
	check3(X03,X13,X24,0,3,1,3,2,4);
	check3(X13,X23,X34,1,3,2,3,3,4);
	check3(X23,X33,X44,2,3,3,3,4,4);
	check3(X33,X43,X54,3,3,4,3,5,4);
	check3(X43,X53,X64,4,3,5,3,6,4);
	check3(X53,X63,X74,5,3,6,3,7,4);
	check3(X04,X14,X25,0,4,1,4,2,5);
	check3(X14,X24,X35,1,4,2,4,3,5);
	check3(X24,X34,X45,2,4,3,4,4,5);
	check3(X34,X44,X55,3,4,4,4,5,5);
	check3(X44,X54,X65,4,4,5,4,6,5);
	check3(X54,X64,X75,5,4,6,4,7,5);
	check3(X05,X15,X26,0,5,1,5,2,6);
	check3(X15,X25,X36,1,5,2,5,3,6);
	check3(X25,X35,X46,2,5,3,5,4,6);
	check3(X35,X45,X56,3,5,4,5,5,6);
	check3(X45,X55,X66,4,5,5,5,6,6);
	check3(X55,X65,X76,5,5,6,5,7,6);
	check3(X06,X16,X27,0,6,1,6,2,7);
	check3(X16,X26,X37,1,6,2,6,3,7);
	check3(X26,X36,X47,2,6,3,6,4,7);
	check3(X36,X46,X57,3,6,4,6,5,7);
	check3(X46,X56,X67,4,6,5,6,6,7);
	check3(X56,X66,X77,5,6,6,6,7,7).
	
	check_pattern3(_,_,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,_) :-
	check3(X01,X11,X20,0,1,1,1,2,0);
	check3(X11,X21,X30,1,1,2,1,3,0);
	check3(X21,X31,X40,2,1,3,1,4,0);
	check3(X31,X41,X50,3,1,4,1,5,0);
	check3(X41,X51,X60,4,1,5,1,6,0);
	check3(X51,X61,X70,5,1,6,1,7,0);
	check3(X02,X12,X21,0,2,1,2,2,1);
	check3(X12,X22,X31,1,2,2,2,3,1);
	check3(X22,X32,X41,2,2,3,2,4,1);
	check3(X32,X42,X51,3,2,4,2,5,1);
	check3(X42,X52,X61,4,2,5,2,6,1);
	check3(X52,X62,X71,5,2,6,2,7,1);
	check3(X03,X13,X22,0,3,1,3,2,2);
	check3(X13,X23,X32,1,3,2,3,3,2);
	check3(X23,X33,X42,2,3,3,3,4,2);
	check3(X33,X43,X52,3,3,4,3,5,2);
	check3(X43,X53,X62,4,3,5,3,6,2);
	check3(X53,X63,X72,5,3,6,3,7,2);
	check3(X04,X14,X23,0,4,1,4,2,3);
	check3(X14,X24,X33,1,4,2,4,3,3);
	check3(X24,X34,X43,2,4,3,4,4,3);
	check3(X34,X44,X53,3,4,4,4,5,3);
	check3(X44,X54,X63,4,4,5,4,6,3);
	check3(X54,X64,X73,5,4,6,4,7,3);
	check3(X05,X15,X24,0,5,1,5,2,4);
	check3(X15,X25,X34,1,5,2,5,3,4);
	check3(X25,X35,X44,2,5,3,5,4,4);
	check3(X35,X45,X54,3,5,4,5,5,4);
	check3(X45,X55,X64,4,5,5,5,6,4);
	check3(X55,X65,X74,5,5,6,5,7,4);
	check3(X06,X16,X25,0,6,1,6,2,5);
	check3(X16,X26,X35,1,6,2,6,3,5);
	check3(X26,X36,X45,2,6,3,6,4,5);
	check3(X36,X46,X55,3,6,4,6,5,5);
	check3(X46,X56,X65,4,6,5,6,6,5);
	check3(X56,X66,X75,5,6,6,6,7,5);
	check3(X07,X17,X26,0,7,1,7,2,6);
	check3(X17,X27,X36,1,7,2,7,3,6);
	check3(X27,X37,X46,2,7,3,7,4,6);
	check3(X37,X47,X56,3,7,4,7,5,6);
	check3(X47,X57,X66,4,7,5,7,6,6);
	check3(X57,X67,X76,5,7,6,7,7,6).
	
	check_pattern4(X00,X10,X20,X30,X40,X50,_,_,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	_,X17,X27,X37,X47,X57,X67,X77) :-
	check3(X00,X11,X21,0,0,1,1,2,1);
	check3(X10,X21,X31,1,0,2,1,3,1);
	check3(X20,X31,X41,2,0,3,1,4,1);
	check3(X30,X41,X51,3,0,4,1,5,1);
	check3(X40,X51,X61,4,0,5,1,6,1);
	check3(X50,X61,X71,5,0,6,1,7,1);
	check3(X01,X12,X22,0,1,1,2,2,2);
	check3(X11,X22,X32,1,1,2,2,3,2);
	check3(X21,X32,X42,2,1,3,2,4,2);
	check3(X31,X42,X52,3,1,4,2,5,2);
	check3(X41,X52,X62,4,1,5,2,6,2);
	check3(X51,X62,X72,5,1,6,2,7,2);
	check3(X02,X13,X23,0,2,1,3,2,3);
	check3(X12,X23,X33,1,2,2,3,3,3);
	check3(X22,X33,X43,2,2,3,3,4,3);
	check3(X32,X43,X53,3,2,4,3,5,3);
	check3(X42,X53,X63,4,2,5,3,6,3);
	check3(X52,X63,X73,5,2,6,3,7,3);
	check3(X03,X14,X24,0,3,1,4,2,4);
	check3(X13,X24,X34,1,3,2,4,3,4);
	check3(X23,X34,X44,2,3,3,4,4,4);
	check3(X33,X44,X54,3,3,4,4,5,4);
	check3(X43,X54,X64,4,3,5,4,6,4);
	check3(X53,X64,X74,5,3,6,4,7,4);
	check3(X04,X15,X25,0,4,1,5,2,5);
	check3(X14,X25,X35,1,4,2,5,3,5);
	check3(X24,X35,X45,2,4,3,5,4,5);
	check3(X34,X45,X55,3,4,4,5,5,5);
	check3(X44,X55,X65,4,4,5,5,6,5);
	check3(X54,X65,X75,5,4,6,5,7,5);
	check3(X05,X16,X26,0,5,1,6,2,6);
	check3(X15,X26,X36,1,5,2,6,3,6);
	check3(X25,X36,X46,2,5,3,6,4,6);
	check3(X35,X46,X56,3,5,4,6,5,6);
	check3(X45,X56,X66,4,5,5,6,6,6);
	check3(X55,X66,X76,5,5,6,6,7,6);
	check3(X06,X17,X27,0,6,1,7,2,7);
	check3(X16,X27,X37,1,6,2,7,3,7);
	check3(X26,X37,X47,2,6,3,7,4,7);
	check3(X36,X47,X57,3,6,4,7,5,7);
	check3(X46,X57,X67,4,6,5,7,6,7);
	check3(X56,X67,X77,5,6,6,7,7,7).
	
	check_pattern5(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	_,X17,X27,X37,X47,X57,X67,_):-
	check3(X00,X11,X20,0,0,1,1,2,0);
	check3(X10,X21,X30,1,0,2,1,3,0);
	check3(X20,X31,X40,2,0,3,1,4,0);
	check3(X30,X41,X50,3,0,4,1,5,0);
	check3(X40,X51,X60,4,0,5,1,6,0);
	check3(X50,X61,X70,5,0,6,1,7,0);
	check3(X01,X12,X21,0,1,1,2,2,1);
	check3(X11,X22,X31,1,1,2,2,3,1);
	check3(X21,X32,X41,2,1,3,2,4,1);
	check3(X31,X42,X51,3,1,4,2,5,1);
	check3(X41,X52,X61,4,1,5,2,6,1);
	check3(X51,X62,X71,5,1,6,2,7,1);
	check3(X02,X13,X22,0,2,1,3,2,2);
	check3(X12,X23,X32,1,2,2,3,3,2);
	check3(X22,X33,X42,2,2,3,3,4,2);
	check3(X32,X43,X52,3,2,4,3,5,2);
	check3(X42,X53,X62,4,2,5,3,6,2);
	check3(X52,X63,X72,5,2,6,3,7,2);
	check3(X03,X14,X23,0,3,1,4,2,3);
	check3(X13,X24,X33,1,3,2,4,3,3);
	check3(X23,X34,X43,2,3,3,4,4,3);
	check3(X33,X44,X53,3,3,4,4,5,3);
	check3(X43,X54,X63,4,3,5,4,6,3);
	check3(X53,X64,X73,5,3,6,4,7,3);
	check3(X04,X15,X24,0,4,1,5,2,4);
	check3(X14,X25,X34,1,4,2,5,3,4);
	check3(X24,X35,X44,2,4,3,5,4,4);
	check3(X34,X45,X54,3,4,4,5,5,4);
	check3(X44,X55,X64,4,4,5,5,6,4);
	check3(X54,X65,X74,5,4,6,5,7,4);
	check3(X05,X16,X25,0,5,1,6,2,5);
	check3(X15,X26,X35,1,5,2,6,3,5);
	check3(X25,X36,X45,2,5,3,6,4,5);
	check3(X35,X46,X55,3,5,4,6,5,5);
	check3(X45,X56,X65,4,5,5,6,6,5);
	check3(X55,X66,X75,5,5,6,6,7,5);
	check3(X06,X17,X26,0,6,1,7,2,6);
	check3(X16,X27,X36,1,6,2,7,3,6);
	check3(X26,X37,X46,2,6,3,7,4,6);
	check3(X36,X47,X56,3,6,4,7,5,6);
	check3(X46,X57,X66,4,6,5,7,6,6);
	check3(X56,X67,X76,5,6,6,7,7,6).
	
	check_pattern6(_,X10,X20,X30,X40,X50,X60,_,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,X77) :-
	check3(X01,X10,X21,0,1,1,0,2,1);
	check3(X11,X20,X31,1,1,2,0,3,1);
	check3(X21,X30,X41,2,1,3,0,4,1);
	check3(X31,X40,X51,3,1,4,0,5,1);
	check3(X41,X50,X61,4,1,5,0,6,1);
	check3(X51,X60,X71,5,1,6,0,7,1);
	check3(X02,X11,X22,0,2,1,1,2,2);
	check3(X12,X21,X32,1,2,2,1,3,2);
	check3(X22,X31,X42,2,2,3,1,4,2);
	check3(X32,X41,X52,3,2,4,1,5,2);
	check3(X42,X51,X62,4,2,5,1,6,2);
	check3(X52,X61,X72,5,2,6,1,7,2);
	check3(X03,X12,X23,0,3,1,2,2,3);
	check3(X13,X22,X33,1,3,2,2,3,3);
	check3(X23,X32,X43,2,3,3,2,4,3);
	check3(X33,X42,X53,3,3,4,2,5,3);
	check3(X43,X52,X63,4,3,5,2,6,3);
	check3(X53,X62,X73,5,3,6,2,7,3);
	check3(X04,X13,X24,0,4,1,3,2,4);
	check3(X14,X23,X34,1,4,2,3,3,4);
	check3(X24,X33,X44,2,4,3,3,4,4);
	check3(X34,X43,X54,3,4,4,3,5,4);
	check3(X44,X53,X64,4,4,5,3,6,4);
	check3(X54,X63,X74,5,4,6,3,7,4);
	check3(X05,X14,X25,0,5,1,4,2,5);
	check3(X15,X24,X35,1,5,2,4,3,5);
	check3(X25,X34,X45,2,5,3,4,4,5);
	check3(X35,X44,X55,3,5,4,4,5,5);
	check3(X45,X54,X65,4,5,5,4,6,5);
	check3(X55,X64,X75,5,5,6,4,7,5);
	check3(X06,X15,X26,0,6,1,5,2,6);
	check3(X16,X25,X36,1,6,2,5,3,6);
	check3(X26,X35,X46,2,6,3,5,4,6);
	check3(X36,X45,X56,3,6,4,5,5,6);
	check3(X46,X55,X66,4,6,5,5,6,6);
	check3(X56,X65,X76,5,6,6,5,7,6);
	check3(X07,X16,X27,0,7,1,6,2,7);
	check3(X17,X26,X37,1,7,2,6,3,7);
	check3(X27,X36,X47,2,7,3,6,4,7);
	check3(X37,X46,X57,3,7,4,6,5,7);
	check3(X47,X56,X67,4,7,5,6,6,7);
	check3(X57,X66,X77,5,7,6,6,7,7).
	
	check_pattern7(X00,X10,X20,X30,X40,X50,X60,_,
	X01,X11,X21,X31,X41,X51,X61,_,
	X02,X12,X22,X32,X42,X52,X62,_,
	X03,X13,X23,X33,X43,X53,X63,_,
	X04,X14,X24,X34,X44,X54,X64,_,
	X05,X15,X25,X35,X45,X55,X65,_,
	X06,X16,X26,X36,X46,X56,X66,_,
	X07,X17,X27,X37,X47,X57,X67,_) :-
	check3(X00,X02,X03,0,0,0,2,0,3);
	check3(X10,X12,X13,1,0,1,2,1,3);
	check3(X20,X22,X23,2,0,2,2,2,3);
	check3(X30,X32,X33,3,0,3,2,3,3);
	check3(X40,X42,X43,4,0,4,2,4,3);
	check3(X50,X52,X53,5,0,5,2,5,3);
	check3(X60,X62,X63,6,0,6,2,6,3);
	check3(X01,X03,X04,0,1,0,3,0,4);
	check3(X11,X13,X14,1,1,1,3,1,4);
	check3(X21,X23,X24,2,1,2,3,2,4);
	check3(X31,X33,X34,3,1,3,3,3,4);
	check3(X41,X43,X44,4,1,4,3,4,4);
	check3(X51,X53,X54,5,1,5,3,5,4);
	check3(X61,X63,X64,6,1,6,3,6,4);
	check3(X02,X04,X05,0,2,0,4,0,5);
	check3(X12,X14,X15,1,2,1,4,1,5);
	check3(X22,X24,X25,2,2,2,4,2,5);
	check3(X32,X34,X35,3,2,3,4,3,5);
	check3(X42,X44,X45,4,2,4,4,4,5);
	check3(X52,X54,X55,5,2,5,4,5,5);
	check3(X62,X64,X65,6,2,6,4,6,5);
	check3(X03,X05,X06,0,3,0,5,0,6);
	check3(X13,X15,X16,1,3,1,5,1,6);
	check3(X23,X25,X26,2,3,2,5,2,6);
	check3(X33,X35,X36,3,3,3,5,3,6);
	check3(X43,X45,X46,4,3,4,5,4,6);
	check3(X53,X55,X56,5,3,5,5,5,6);
	check3(X63,X65,X66,6,3,6,5,6,6);
	check3(X04,X06,X07,0,4,0,6,0,7);
	check3(X14,X16,X17,1,4,1,6,1,7);
	check3(X24,X26,X27,2,4,2,6,2,7);
	check3(X34,X36,X37,3,4,3,6,3,7);
	check3(X44,X46,X47,4,4,4,6,4,7);
	check3(X54,X56,X57,5,4,5,6,5,7);
	check3(X64,X66,X67,6,4,6,6,6,7).
	
	check_pattern8(X00,X10,X20,X30,X40,X50,X60,_,
	X01,X11,X21,X31,X41,X51,X61,_,
	X02,X12,X22,X32,X42,X52,X62,_,
	X03,X13,X23,X33,X43,X53,X63,_,
	X04,X14,X24,X34,X44,X54,X64,_,
	X05,X15,X25,X35,X45,X55,X65,_,
	X06,X16,X26,X36,X46,X56,X66,_,
	X07,X17,X27,X37,X47,X57,X67,_):-
	check3(X00,X01,X03,0,0,0,1,0,3);
	check3(X10,X11,X13,1,0,1,1,1,3);
	check3(X20,X21,X23,2,0,2,1,2,3);
	check3(X30,X31,X33,3,0,3,1,3,3);
	check3(X40,X41,X43,4,0,4,1,4,3);
	check3(X50,X51,X53,5,0,5,1,5,3);
	check3(X60,X61,X63,6,0,6,1,6,3);
	check3(X01,X02,X04,0,1,0,2,0,4);
	check3(X11,X12,X14,1,1,1,2,1,4);
	check3(X21,X22,X24,2,1,2,2,2,4);
	check3(X31,X32,X34,3,1,3,2,3,4);
	check3(X41,X42,X44,4,1,4,2,4,4);
	check3(X51,X52,X54,5,1,5,2,5,4);
	check3(X61,X62,X64,6,1,6,2,6,4);
	check3(X02,X03,X05,0,2,0,3,0,5);
	check3(X12,X13,X15,1,2,1,3,1,5);
	check3(X22,X23,X25,2,2,2,3,2,5);
	check3(X32,X33,X35,3,2,3,3,3,5);
	check3(X42,X43,X45,4,2,4,3,4,5);
	check3(X52,X53,X55,5,2,5,3,5,5);
	check3(X62,X63,X65,6,2,6,3,6,5);
	check3(X03,X04,X06,0,3,0,4,0,6);
	check3(X13,X14,X16,1,3,1,4,1,6);
	check3(X23,X24,X26,2,3,2,4,2,6);
	check3(X33,X34,X36,3,3,3,4,3,6);
	check3(X43,X44,X46,4,3,4,4,4,6);
	check3(X53,X54,X56,5,3,5,4,5,6);
	check3(X63,X64,X66,6,3,6,4,6,6);
	check3(X04,X05,X07,0,4,0,5,0,7);
	check3(X14,X15,X17,1,4,1,5,1,7);
	check3(X24,X25,X27,2,4,2,5,2,7);
	check3(X34,X35,X37,3,4,3,5,3,7);
	check3(X44,X45,X47,4,4,4,5,4,7);
	check3(X54,X55,X57,5,4,5,5,5,7);
	check3(X64,X65,X67,6,4,6,5,6,7).
	
	check_pattern9(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	_,_,_,_,_,_,_,_) :-
	check3(X00,X20,X30,0,0,2,0,3,0);
	check3(X10,X30,X40,1,0,3,0,4,0);
	check3(X20,X40,X50,2,0,4,0,5,0);
	check3(X30,X50,X60,3,0,5,0,6,0);
	check3(X40,X60,X70,4,0,6,0,7,0);
	check3(X01,X21,X31,0,1,2,1,3,1);
	check3(X11,X31,X41,1,1,3,1,4,1);
	check3(X21,X41,X51,2,1,4,1,5,1);
	check3(X31,X51,X61,3,1,5,1,6,1);
	check3(X41,X61,X71,4,1,6,1,7,1);
	check3(X02,X22,X32,0,2,2,2,3,2);
	check3(X12,X32,X42,1,2,3,2,4,2);
	check3(X22,X42,X52,2,2,4,2,5,2);
	check3(X32,X52,X62,3,2,5,2,6,2);
	check3(X42,X62,X72,4,2,6,2,7,2);
	check3(X03,X23,X33,0,3,2,3,3,3);
	check3(X13,X33,X43,1,3,3,3,4,3);
	check3(X23,X43,X53,2,3,4,3,5,3);
	check3(X33,X53,X63,3,3,5,3,6,3);
	check3(X43,X63,X73,4,3,6,3,7,3);
	check3(X04,X24,X34,0,4,2,4,3,4);
	check3(X14,X34,X44,1,4,3,4,4,4);
	check3(X24,X44,X54,2,4,4,4,5,4);
	check3(X34,X54,X64,3,4,5,4,6,4);
	check3(X44,X64,X74,4,4,6,4,7,4);
	check3(X05,X25,X35,0,5,2,5,3,5);
	check3(X15,X35,X45,1,5,3,5,4,5);
	check3(X25,X45,X55,2,5,4,5,5,5);
	check3(X35,X55,X65,3,5,5,5,6,5);
	check3(X45,X65,X75,4,5,6,5,7,5);
	check3(X06,X26,X36,0,6,2,6,3,6);
	check3(X16,X36,X46,1,6,3,6,4,6);
	check3(X26,X46,X56,2,6,4,6,5,6);
	check3(X36,X56,X66,3,6,5,6,6,6);
	check3(X46,X66,X76,4,6,6,6,7,6).
	
	check_pattern10(X00,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	_,_,_,_,_,_,_,_):-
	check3(X00,X10,X30,0,0,1,0,3,0);
	check3(X10,X20,X40,1,0,2,0,4,0);
	check3(X20,X30,X50,2,0,3,0,5,0);
	check3(X30,X40,X60,3,0,4,0,6,0);
	check3(X40,X50,X70,4,0,5,0,7,0);
	check3(X01,X11,X31,0,1,1,1,3,1);
	check3(X11,X21,X41,1,1,2,1,4,1);
	check3(X21,X31,X51,2,1,3,1,5,1);
	check3(X31,X41,X61,3,1,4,1,6,1);
	check3(X41,X51,X71,4,1,5,1,7,1);
	check3(X02,X12,X32,0,2,1,2,3,2);
	check3(X12,X22,X42,1,2,2,2,4,2);
	check3(X22,X32,X52,2,2,3,2,5,2);
	check3(X32,X42,X62,3,2,4,2,6,2);
	check3(X42,X52,X72,4,2,5,2,7,2);
	check3(X03,X13,X33,0,3,1,3,3,3);
	check3(X13,X23,X43,1,3,2,3,4,3);
	check3(X23,X33,X53,2,3,3,3,5,3);
	check3(X33,X43,X63,3,3,4,3,6,3);
	check3(X43,X53,X73,4,3,5,3,7,3);
	check3(X04,X14,X34,0,4,1,4,3,4);
	check3(X14,X24,X44,1,4,2,4,4,4);
	check3(X24,X34,X54,2,4,3,4,5,4);
	check3(X34,X44,X64,3,4,4,4,6,4);
	check3(X44,X54,X74,4,4,5,4,7,4);
	check3(X05,X15,X35,0,5,1,5,3,5);
	check3(X15,X25,X45,1,5,2,5,4,5);
	check3(X25,X35,X55,2,5,3,5,5,5);
	check3(X35,X45,X65,3,5,4,5,6,5);
	check3(X45,X55,X75,4,5,5,5,7,5);
	check3(X06,X16,X36,0,6,1,6,3,6);
	check3(X16,X26,X46,1,6,2,6,4,6);
	check3(X26,X36,X56,2,6,3,6,5,6);
	check3(X36,X46,X66,3,6,4,6,6,6);
	check3(X46,X56,X76,4,6,5,6,7,6).
	
	check_pattern11(X00,X10,X20,X30,X40,X50,X60,_,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	_,X16,X26,X36,X46,X56,X66,X76,
	_,X17,X27,X37,X47,X57,X67,X77) :-
	check3(X00,X11,X12,0,0,1,1,1,2);
	check3(X10,X21,X22,1,0,2,1,2,2);
	check3(X20,X31,X32,2,0,3,1,3,2);
	check3(X30,X41,X42,3,0,4,1,4,2);
	check3(X40,X51,X52,4,0,5,1,5,2);
	check3(X50,X61,X62,5,0,6,1,6,2);
	check3(X60,X71,X72,6,0,7,1,7,2);
	check3(X01,X12,X13,0,1,1,2,1,3);
	check3(X11,X22,X23,1,1,2,2,2,3);
	check3(X21,X32,X33,2,1,3,2,3,3);
	check3(X31,X42,X43,3,1,4,2,4,3);
	check3(X41,X52,X53,4,1,5,2,5,3);
	check3(X51,X62,X63,5,1,6,2,6,3);
	check3(X61,X72,X73,6,1,7,2,7,3);
	check3(X02,X13,X14,0,2,1,3,1,4);
	check3(X12,X23,X24,1,2,2,3,2,4);
	check3(X22,X33,X34,2,2,3,3,3,4);
	check3(X32,X43,X44,3,2,4,3,4,4);
	check3(X42,X53,X54,4,2,5,3,5,4);
	check3(X52,X63,X64,5,2,6,3,6,4);
	check3(X62,X73,X74,6,2,7,3,7,4);
	check3(X03,X14,X15,0,3,1,4,1,5);
	check3(X13,X24,X25,1,3,2,4,2,5);
	check3(X23,X34,X35,2,3,3,4,3,5);
	check3(X33,X44,X45,3,3,4,4,4,5);
	check3(X43,X54,X55,4,3,5,4,5,5);
	check3(X53,X64,X65,5,3,6,4,6,5);
	check3(X63,X74,X75,6,3,7,4,7,5);
	check3(X04,X15,X16,0,4,1,5,1,6);
	check3(X14,X25,X26,1,4,2,5,2,6);
	check3(X24,X35,X36,2,4,3,5,3,6);
	check3(X34,X45,X46,3,4,4,5,4,6);
	check3(X44,X55,X56,4,4,5,5,5,6);
	check3(X54,X65,X66,5,4,6,5,6,6);
	check3(X64,X75,X76,6,4,7,5,7,6);
	check3(X05,X16,X17,0,5,1,6,1,7);
	check3(X15,X26,X27,1,5,2,6,2,7);
	check3(X25,X36,X37,2,5,3,6,3,7);
	check3(X35,X46,X47,3,5,4,6,4,7);
	check3(X45,X56,X57,4,5,5,6,5,7);
	check3(X55,X66,X67,5,5,6,6,6,7);
	check3(X65,X76,X77,6,5,7,6,7,7).
	
	check_pattern12(_,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,_,
	X07,X17,X27,X37,X47,X57,X67,_) :-
	check3(X10,X01,X02,1,0,0,1,0,2);
	check3(X20,X11,X12,2,0,1,1,1,2);
	check3(X30,X21,X22,3,0,2,1,2,2);
	check3(X40,X31,X32,4,0,3,1,3,2);
	check3(X50,X41,X42,5,0,4,1,4,2);
	check3(X60,X51,X52,6,0,5,1,5,2);
	check3(X70,X61,X62,7,0,6,1,6,2);
	check3(X11,X02,X03,1,1,0,2,0,3);
	check3(X21,X12,X13,2,1,1,2,1,3);
	check3(X31,X22,X23,3,1,2,2,2,3);
	check3(X41,X32,X33,4,1,3,2,3,3);
	check3(X51,X42,X43,5,1,4,2,4,3);
	check3(X61,X52,X53,6,1,5,2,5,3);
	check3(X71,X62,X63,7,1,6,2,6,3);
	check3(X12,X03,X04,1,2,0,3,0,4);
	check3(X22,X13,X14,2,2,1,3,1,4);
	check3(X32,X23,X24,3,2,2,3,2,4);
	check3(X42,X33,X34,4,2,3,3,3,4);
	check3(X52,X43,X44,5,2,4,3,4,4);
	check3(X62,X53,X54,6,2,5,3,5,4);
	check3(X72,X63,X64,7,2,6,3,6,4);
	check3(X13,X04,X05,1,3,0,4,0,5);
	check3(X23,X14,X15,2,3,1,4,1,5);
	check3(X33,X24,X25,3,3,2,4,2,5);
	check3(X43,X34,X35,4,3,3,4,3,5);
	check3(X53,X44,X45,5,3,4,4,4,5);
	check3(X63,X54,X55,6,3,5,4,5,5);
	check3(X73,X64,X65,7,3,6,4,6,5);
	check3(X14,X05,X06,1,4,0,5,0,6);
	check3(X24,X15,X16,2,4,1,5,1,6);
	check3(X34,X25,X26,3,4,2,5,2,6);
	check3(X44,X35,X36,4,4,3,5,3,6);
	check3(X54,X45,X46,5,4,4,5,4,6);
	check3(X64,X55,X56,6,4,5,5,5,6);
	check3(X74,X65,X66,7,4,6,5,6,6);
	check3(X15,X06,X07,1,5,0,6,0,7);
	check3(X25,X16,X17,2,5,1,6,1,7);
	check3(X35,X26,X27,3,5,2,6,2,7);
	check3(X45,X36,X37,4,5,3,6,3,7);
	check3(X55,X46,X47,5,5,4,6,4,7);
	check3(X65,X56,X57,6,5,5,6,5,7);
	check3(X75,X66,X67,7,5,6,6,6,7).
	
	check_pattern13(X00,X10,X20,X30,X40,X50,X60,_,
	X01,X11,X21,X31,X41,X51,X61,_,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	_,X17,X27,X37,X47,X57,X67,X77) :-
	check3(X00,X01,X12,0,0,0,1,1,2);
	check3(X10,X11,X22,1,0,1,1,2,2);
	check3(X20,X21,X32,2,0,2,1,3,2);
	check3(X30,X31,X42,3,0,3,1,4,2);
	check3(X40,X41,X52,4,0,4,1,5,2);
	check3(X50,X51,X62,5,0,5,1,6,2);
	check3(X60,X61,X72,6,0,6,1,7,2);
	check3(X01,X02,X13,0,1,0,2,1,3);
	check3(X11,X12,X23,1,1,1,2,2,3);
	check3(X21,X22,X33,2,1,2,2,3,3);
	check3(X31,X32,X43,3,1,3,2,4,3);
	check3(X41,X42,X53,4,1,4,2,5,3);
	check3(X51,X52,X63,5,1,5,2,6,3);
	check3(X61,X62,X73,6,1,6,2,7,3);
	check3(X02,X03,X14,0,2,0,3,1,4);
	check3(X12,X13,X24,1,2,1,3,2,4);
	check3(X22,X23,X34,2,2,2,3,3,4);
	check3(X32,X33,X44,3,2,3,3,4,4);
	check3(X42,X43,X54,4,2,4,3,5,4);
	check3(X52,X53,X64,5,2,5,3,6,4);
	check3(X62,X63,X74,6,2,6,3,7,4);
	check3(X03,X04,X15,0,3,0,4,1,5);
	check3(X13,X14,X25,1,3,1,4,2,5);
	check3(X23,X24,X35,2,3,2,4,3,5);
	check3(X33,X34,X45,3,3,3,4,4,5);
	check3(X43,X44,X55,4,3,4,4,5,5);
	check3(X53,X54,X65,5,3,5,4,6,5);
	check3(X63,X64,X75,6,3,6,4,7,5);
	check3(X04,X05,X16,0,4,0,5,1,6);
	check3(X14,X15,X26,1,4,1,5,2,6);
	check3(X24,X25,X36,2,4,2,5,3,6);
	check3(X34,X35,X46,3,4,3,5,4,6);
	check3(X44,X45,X56,4,4,4,5,5,6);
	check3(X54,X55,X66,5,4,5,5,6,6);
	check3(X64,X65,X76,6,4,6,5,7,6);
	check3(X05,X06,X17,0,5,0,6,1,7);
	check3(X15,X16,X27,1,5,1,6,2,7);
	check3(X25,X26,X37,2,5,2,6,3,7);
	check3(X35,X36,X47,3,5,3,6,4,7);
	check3(X45,X46,X57,4,5,4,6,5,7);
	check3(X55,X56,X67,5,5,5,6,6,7);
	check3(X65,X66,X77,6,5,6,6,7,7).
	
	check_pattern14(_,X10,X20,X30,X40,X50,X60,X70,
	_,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,_) :-
	check3(X10,X11,X02,1,0,1,1,0,2);
	check3(X20,X21,X12,2,0,2,1,1,2);
	check3(X30,X31,X22,3,0,3,1,2,2);
	check3(X40,X41,X32,4,0,4,1,3,2);
	check3(X50,X51,X42,5,0,5,1,4,2);
	check3(X60,X61,X52,6,0,6,1,5,2);
	check3(X70,X71,X62,7,0,7,1,6,2);
	check3(X11,X12,X03,1,1,1,2,0,3);
	check3(X21,X22,X13,2,1,2,2,1,3);
	check3(X31,X32,X23,3,1,3,2,2,3);
	check3(X41,X42,X33,4,1,4,2,3,3);
	check3(X51,X52,X43,5,1,5,2,4,3);
	check3(X61,X62,X53,6,1,6,2,5,3);
	check3(X71,X72,X63,7,1,7,2,6,3);
	check3(X12,X13,X04,1,2,1,3,0,4);
	check3(X22,X23,X14,2,2,2,3,1,4);
	check3(X32,X33,X24,3,2,3,3,2,4);
	check3(X42,X43,X34,4,2,4,3,3,4);
	check3(X52,X53,X44,5,2,5,3,4,4);
	check3(X62,X63,X54,6,2,6,3,5,4);
	check3(X72,X73,X64,7,2,7,3,6,4);
	check3(X13,X14,X05,1,3,1,4,0,5);
	check3(X23,X24,X15,2,3,2,4,1,5);
	check3(X33,X34,X25,3,3,3,4,2,5);
	check3(X43,X44,X35,4,3,4,4,3,5);
	check3(X53,X54,X45,5,3,5,4,4,5);
	check3(X63,X64,X55,6,3,6,4,5,5);
	check3(X73,X74,X65,7,3,7,4,6,5);
	check3(X14,X15,X06,1,4,1,5,0,6);
	check3(X24,X25,X16,2,4,2,5,1,6);
	check3(X34,X35,X26,3,4,3,5,2,6);
	check3(X44,X45,X36,4,4,4,5,3,6);
	check3(X54,X55,X46,5,4,5,5,4,6);
	check3(X64,X65,X56,6,4,6,5,5,6);
	check3(X74,X75,X66,7,4,7,5,6,6);
	check3(X15,X16,X07,1,5,1,6,0,7);
	check3(X25,X26,X17,2,5,2,6,1,7);
	check3(X35,X36,X27,3,5,3,6,2,7);
	check3(X45,X46,X37,4,5,4,6,3,7);
	check3(X55,X56,X47,5,5,5,6,4,7);
	check3(X65,X66,X57,6,5,6,6,5,7);
	check3(X75,X76,X67,7,5,7,6,6,7).
	
	check_pattern15(_,X10,X20,X30,X40,X50,X60,X70,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	_,X17,X27,X37,X47,X57,X67,X77):-
	check3(X10,X01,X12,1,0,0,1,1,2);
	check3(X20,X11,X22,2,0,1,1,2,2);
	check3(X30,X21,X32,3,0,2,1,3,2);
	check3(X40,X31,X42,4,0,3,1,4,2);
	check3(X50,X41,X52,5,0,4,1,5,2);
	check3(X60,X51,X62,6,0,5,1,6,2);
	check3(X70,X61,X72,7,0,6,1,7,2);
	check3(X11,X02,X13,1,1,0,2,1,3);
	check3(X21,X12,X23,2,1,1,2,2,3);
	check3(X31,X22,X33,3,1,2,2,3,3);
	check3(X41,X32,X43,4,1,3,2,4,3);
	check3(X51,X42,X53,5,1,4,2,5,3);
	check3(X61,X52,X63,6,1,5,2,6,3);
	check3(X71,X62,X73,7,1,6,2,7,3);
	check3(X12,X03,X14,1,2,0,3,1,4);
	check3(X22,X13,X24,2,2,1,3,2,4);
	check3(X32,X23,X34,3,2,2,3,3,4);
	check3(X42,X33,X44,4,2,3,3,4,4);
	check3(X52,X43,X54,5,2,4,3,5,4);
	check3(X62,X53,X64,6,2,5,3,6,4);
	check3(X72,X63,X74,7,2,6,3,7,4);
	check3(X13,X04,X15,1,3,0,4,1,5);
	check3(X23,X14,X25,2,3,1,4,2,5);
	check3(X33,X24,X35,3,3,2,4,3,5);
	check3(X43,X34,X45,4,3,3,4,4,5);
	check3(X53,X44,X55,5,3,4,4,5,5);
	check3(X63,X54,X65,6,3,5,4,6,5);
	check3(X73,X64,X75,7,3,6,4,7,5);
	check3(X14,X05,X16,1,4,0,5,1,6);
	check3(X24,X15,X26,2,4,1,5,2,6);
	check3(X34,X25,X36,3,4,2,5,3,6);
	check3(X44,X35,X46,4,4,3,5,4,6);
	check3(X54,X45,X56,5,4,4,5,5,6);
	check3(X64,X55,X66,6,4,5,5,6,6);
	check3(X74,X65,X76,7,4,6,5,7,6);
	check3(X15,X06,X17,1,5,0,6,1,7);
	check3(X25,X16,X27,2,5,1,6,2,7);
	check3(X35,X26,X37,3,5,2,6,3,7);
	check3(X45,X36,X47,4,5,3,6,4,7);
	check3(X55,X46,X57,5,5,4,6,5,7);
	check3(X65,X56,X67,6,5,5,6,6,7);
	check3(X75,X66,X77,7,5,6,6,7,7).
	
	check_pattern16(X00,X10,X20,X30,X40,X50,X60,_,
	X01,X11,X21,X31,X41,X51,X61,X71,
	X02,X12,X22,X32,X42,X52,X62,X72,
	X03,X13,X23,X33,X43,X53,X63,X73,
	X04,X14,X24,X34,X44,X54,X64,X74,
	X05,X15,X25,X35,X45,X55,X65,X75,
	X06,X16,X26,X36,X46,X56,X66,X76,
	X07,X17,X27,X37,X47,X57,X67,_) :-
	check3(X00,X11,X02,0,0,1,1,0,2);
	check3(X10,X21,X12,1,0,2,1,1,2);
	check3(X20,X31,X22,2,0,3,1,2,2);
	check3(X30,X41,X32,3,0,4,1,3,2);
	check3(X40,X51,X42,4,0,5,1,4,2);
	check3(X50,X61,X52,5,0,6,1,5,2);
	check3(X60,X71,X62,6,0,7,1,6,2);
	check3(X01,X12,X03,0,1,1,2,0,3);
	check3(X11,X22,X13,1,1,2,2,1,3);
	check3(X21,X32,X23,2,1,3,2,2,3);
	check3(X31,X42,X33,3,1,4,2,3,3);
	check3(X41,X52,X43,4,1,5,2,4,3);
	check3(X51,X62,X53,5,1,6,2,5,3);
	check3(X61,X72,X63,6,1,7,2,6,3);
	check3(X02,X13,X04,0,2,1,3,0,4);
	check3(X12,X23,X14,1,2,2,3,1,4);
	check3(X22,X33,X24,2,2,3,3,2,4);
	check3(X32,X43,X34,3,2,4,3,3,4);
	check3(X42,X53,X44,4,2,5,3,4,4);
	check3(X52,X63,X54,5,2,6,3,5,4);
	check3(X62,X73,X64,6,2,7,3,6,4);
	check3(X03,X14,X05,0,3,1,4,0,5);
	check3(X13,X24,X15,1,3,2,4,1,5);
	check3(X23,X34,X25,2,3,3,4,2,5);
	check3(X33,X44,X35,3,3,4,4,3,5);
	check3(X43,X54,X45,4,3,5,4,4,5);
	check3(X53,X64,X55,5,3,6,4,5,5);
	check3(X63,X74,X65,6,3,7,4,6,5);
	check3(X04,X15,X06,0,4,1,5,0,6);
	check3(X14,X25,X16,1,4,2,5,1,6);
	check3(X24,X35,X26,2,4,3,5,2,6);
	check3(X34,X45,X36,3,4,4,5,3,6);
	check3(X44,X55,X46,4,4,5,5,4,6);
	check3(X54,X65,X56,5,4,6,5,5,6);
	check3(X64,X75,X66,6,4,7,5,6,6);
	check3(X05,X16,X07,0,5,1,6,0,7);
	check3(X15,X26,X17,1,5,2,6,1,7);
	check3(X25,X36,X27,2,5,3,6,2,7);
	check3(X35,X46,X37,3,5,4,6,3,7);
	check3(X45,X56,X47,4,5,5,6,4,7);
	check3(X55,X66,X57,5,5,6,6,5,7);
	check3(X65,X76,X67,6,5,7,6,6,7).